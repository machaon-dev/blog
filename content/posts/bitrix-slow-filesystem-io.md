---
title: "Quick tip: что делать, если Битрикс показывает низкую скорость файловых операций"
date: 2020-11-12T18:00:00+03:00
draft: false
author: "Евгений Задорин"
description: "Если проседает производительность конфигурации, или не работает сканер безопасности, проверьте open_basedir"
summary: "Если проседает производительность конфигурации, или не работает сканер безопасности, проверьте open_basedir"
---

У CMS 1C-Bitrix есть панель производительности, которая определяет некий индекс производительности вашего сервера. Одним из параметров, которые влияют на этот индекс, является количество файловых операций в секунду.

Иногда этот параметр может сильно проседать по сравнению с эталонным:

![Bitrix Slow File IO](/blog/img/U92QCdP.png)

Из-за медленных файловых операций может также отказаться работать сканер безопасности:

![Bitrix Security Scanner](/blog/img/Nd8uIRo.png)

Первая мысль — тормозит жесткий диск. Это можно проверить, например, утилитой [fio](https://github.com/axboe/fio).

Но что делать, если системная утилита показывает нормальную скорость файловых операций?

Проблема может быть связана с неправильно установленным php-параметром [open_basedir](https://www.php.net/manual/ru/ini.core.php#ini.open-basedir). В документации есть такая фраза:

> Использование опции open_basedir установит realpath_cache_size на значение 0 и таким образом отключит кеш realpath.

Предположительно, из-за этого Битрикс и рекомендует отключать эту директиву.

В нашем случае её отключение увеличило скорость файловых операций в 2 раза.